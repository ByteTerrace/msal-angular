name: Npm-Packager

on: push

jobs:
  build:
    name: create npm package artifacts
    runs-on: ubuntu-latest
    steps:
      - name: checkout code
        uses: actions/checkout@v2
      - name: setup node.js
        uses: actions/setup-node@v1
        with:
          node-version: 12
      - name: install npm dependencies
        run: npm ci
        shell: pwsh
      - name: build npm package
        run: npm run-script ng build --prod
        shell: pwsh
      - name: publish workflow artifacts
        uses: actions/upload-artifact@v2.2.1
        with:
          if-no-files-found: error
          path: dist
          retention-days: 13
